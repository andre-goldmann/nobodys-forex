<div class="container mx-auto">
  <!--button class="btn">Button</button-->
  <!-- TODO info could be null?? -->
  @if(userStoreService.getUser() && userStoreService.getUser().info){
  <p>Loged in as: {{userStoreService.getUser().info.preferred_username}}</p>
  }
  @else{
  <p>Could not show User-Info</p>
  <div>{{userStoreService.getUser().info | json}}</div>
  }
  <!--button (click)="updateTrade()" class="btn btn-primary">Update Trade</button>
  <p> TODO Endpoint updateProdTrades</p-->


  <div *ngFor="let item of items | async">
    <!--{{item.symbol}} {{item.strategy}} {{item.stamp}}-->
    <!-- show item in a tailwind card -->
    <div class="max-w-sm rounded overflow-hidden shadow-lg">
      <!--img class="w-full" src="https://tailwindcss.com/img/card-top.jpg" alt="Sunset in the mountains"-->
      <div class="px-6 py-4">
        <div class="font-bold text-xl mb-2">{{item.symbol}}</div>
        <p class="text-gray-700 text-base">
          {{item.strategy}}
        </p>
      </div>
      <div class="px-6 pt-4 pb-2">
        <!-- show dev/prod winpercentag, wins, loses and total -->
        <table border="0">
          <thead>
          <th class="px-4 py-2">Wins</th>
          <th class="px-4 py-2">Loses</th>
          <th class="px-4 py-2">Percentage</th>
          </thead>
          <tr>
            <td class="border px-4 py-2">{{item.prodWins}}</td>
            <td class="border px-4 py-2">{{item.prodLoses}}</td>
            <td class="border px-4 py-2">{{item.prodWinPercentage}}</td>
          </tr>
        </table>
        <!--span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#photography</span>
        <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#travel</span>
        <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700">#winter</span-->
      </div>
    </div>
  </div>
  <!--div class="flex flex-col justify-around spacy-y-4">
    <div *ngFor="let item of map | keyvalue" class="w-full rounded overflow-hidden shadow-lg m-4" [ngClass]="{'green-background': item.value.length > 1}">
      <div class="px-6 py-4">
        <div class="font-bold text-xl mb-2">{{item.key.split("-")[0]}}</div>
        <p class="text-gray-700 text-base">
          {{item.key.split("-")[1]}}
        </p>
      </div>
      <div class="px-6 pt-4 pb-2">

        @if (item.value.length > 1){
          <table class="w-full">
            <thead>
            <th class="px-4 py-2">System</th>
            <th class="px-4 py-2">Wins</th>
            <th class="px-4 py-2">Loses</th>
            <th class="px-4 py-2">Percentage</th>
            <th class="px-4 py-2">Profit</th>
            </thead>
            <tr *ngFor="let stat of item.value; let i = index;">
              @if (item.value.length > 1 && i == 0){
                <td class="border px-4 py-2">Dev</td>
              } @else if (item.value.length > 1 && i == 1){
                <td class="border px-4 py-2">Prod</td>
              }
              <td class="border px-4 py-2">{{stat.wins}}</td>
              <td class="border px-4 py-2">{{stat.loses}}</td>
              <td class="border px-4 py-2">{{stat.winpercentage}}</td>
              <td class="border px-4 py-2">{{stat.profit}}</td>
            </tr>
          </table>
        } @else {
          <table border="0">
            <thead>
            <th class="px-4 py-2">Wins</th>
            <th class="px-4 py-2">Loses</th>
            <th class="px-4 py-2">Percentage</th>
            <th class="px-4 py-2">Profit</th>
            </thead>
            <tr *ngFor="let stat of item.value">
              <td class="border px-4 py-2">{{stat.wins}}</td>
              <td class="border px-4 py-2">{{stat.loses}}</td>
              <td class="border px-4 py-2">{{stat.winpercentage}}</td>
              <td class="border px-4 py-2">{{stat.profit}}</td>
            </tr>
          </table>
        }

      </div>

    </div>
  </div>
</div-->
